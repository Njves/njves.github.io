<script setup>
import 'animate.css';
import {ref} from 'vue';

import egor from '@/assets/img.png';
import artem from '@/assets/Artem.jpg';
import daniel from '@/assets/daniel.jpg';
import valera from '@/assets/valera.jpg';
import maks from '@/assets/maks.png';
import alex from '@/assets/alex.png';
import vasya from '@/assets/vasya.jpg';
import gleb from '@/assets/gleb.jpg';
import placeholder from '@/assets/placeholder.png';

import Carousel from 'primevue/carousel';
import Textarea from 'primevue/textarea';


const isBouncing = ref(false);

const friends = ref([
  {img: egor, name: '–õ—É–≥–æ–≤–∫–∏–Ω –ï–≥–æ—Ä'},
  {img: artem, name: '–ß–µ—Ä–∫–∞—Å–æ–≤ –ê—Ä—Ç–µ–º'},
  {img: daniel, name: '–ú–∞–º–æ–Ω—Ç–æ–≤ –î–∞–Ω–∏–ª'},
  {img: valera, name: '–í–∞—Å–∏–ª—å–µ–≤ –í–∞–ª–µ—Ä–∞'},
  {img: maks, name: '–°—Ç–∞—Ä–∏–∫–æ–≤ –ú–∞–∫—Å–∏–º'},
  {img: alex, name: '–°—Ç–∞—Ä–∏–∫–æ–≤ –ê–ª–µ–∫—Å–µ–π'},
  {img: vasya, name: '–ú–∞–ª—å—Ü–µ–≤ –í–∞—Å–∏–ª–∏–π'},
  {img: gleb, name: '–ö–ª–∏–º—á–µ–Ω–∫–æ –ì–ª–µ–±'},
  {img: placeholder, name: '–ö—É–∑–Ω–µ—Ü–æ–≤–∞ –ê–Ω–∞—Å—Ç–∞—Å–∏—è'},
  {img: placeholder, name: '–ï—Ä—à–æ–≤ –ù–∏–∫–∏—Ç–∞'}
]);

function startBounce() {
  isBouncing.value = true;
  setTimeout(() => {
    isBouncing.value = false;
  }, 1000);
}

const clicked = ref(false);
function sendMail() {
  const firstname = document.getElementById('firstname3').value;
  const lastname = document.getElementById('lastname3').value;
  const drink = document.getElementById('drink').checked ? '–ù–µ –±—É–¥–µ—Ç –ø–∏—Ç—å' : '';
  const night = document.getElementById('night').checked ? '–ù–µ –±—É–¥–µ—Ç –Ω–æ—á–µ–≤–∞—Ç—å' : '';
  const car = document.getElementById('car').checked ? '–ü–æ–µ–¥–µ—Ç –Ω–∞ –º–∞—à–∏–Ω–µ' : '';
  const comment = document.getElementById('comment').value;

  let body = `–ò–º—è: ${firstname}\n–§–∞–º–∏–ª–∏—è: ${lastname}\n${drink}\n${night}\n${car}\n\n–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:\n${comment}`;

  body = encodeURIComponent(body);

  const subject = encodeURIComponent('–û—Ç–≤–µ—Ç –Ω–∞ —Ñ–æ—Ä–º—É');

  window.location.href = `mailto:mrpostik@gmail.com?subject=${subject}&body=${body}`;
}
function showImage() {
  if (!clicked.value) {
    const overlay = document.getElementById('imageOverlay');
    overlay.style.display = 'flex'; // –ü–æ–∫–∞–∑–∞—Ç—å –æ–≤–µ—Ä–ª–µ–π

    // –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã —Å–∫—Ä—ã—Ç—å
    setTimeout(() => {
      overlay.style.display = 'none';
    }, 2000);
    clicked.value = true;
  }
}

</script>

<template>
  <div id="imageOverlay" style="display: none; position: fixed; top: 0; left: 0;
    width: 100vw; height: 100vh; background-color: rgba(0,0,0,0.8);
   align-items: center; justify-content: center; z-index: 9999;">
    <img src="https://i.pinimg.com/736x/c4/92/c5/c492c51902e5d421bed888fb72aaacbd.jpg" alt="–ö–∞—Ä—Ç–∏–Ω–∫–∞"
         style="max-width: 90%; max-height: 90%;">
  </div>
  <div class="flex flex-column">
    <div class="flex flex-column justify-content-center text-center">
      <h1>–ü—Ä–∏–≤–µ—Ç —Ä–µ–±—è—Ç–∞!</h1>
      <div class="flex justify-content-center">
        <img class="align-content-center" height="200px" width="232px"
             src="https://i.pinimg.com/originals/9f/ef/36/9fef363e52e8153b0a9495241543ffff.gif"
             alt="–∫–æ—Ç–∏–∫"/>
      </div>
      <h2 class="animate__animated animate__bounce infinite-bounce mt-6">–ï—Å–ª–∏ –≤—ã —Å–µ–π—á–∞—Å –Ω–∞ —ç—Ç–æ–º —Å–∞–π—Ç–µ<br/>–ó–Ω–∞—á–∏—Ç —è
        –ø—Ä–∏–≥–ª–∞—Å–∏–ª
        –≤–∞—Å!!!<br/>–ù–∞ —Å–≤–æ–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏–µ 17 –º–∞—è –Ω–∞ –∫–∞—Ç–∏–∫–µ!!!ü•≥üéâüéä</h2>
      <div class="carousel">
        –¢—É—Ç –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –≤—Å–µ—Ö –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö –≥–æ—Å—Ç–µ–π
        <div class="carousel-container">
          <Carousel :value="friends" :numVisible="3" :numScroll="1" circular>
            <template #item="slotProps">
              <div class="friend-card">
                <img height="152px" :src="slotProps.data.img" alt="–§–æ—Ç–æ –¥—Ä—É–≥–∞" class="m-2 border-round friend-img"/>
                <p class="friend-name">{{ slotProps.data.name }}</p>
              </div>
            </template>
          </Carousel>
        </div>
      </div>
      <h3>–ü–æ–∫–∞ —á—Ç–æ –µ—â–µ –Ω–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å—Å—è —Å –º–µ—Å—Ç–æ–º üòû<br/> –ù–æ –∫–∞–∫ —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–∏–º—Å—è, —è
        –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω–∞–ø–∏—à—É!<br/>–°—Ç–æ–∏–º–æ—Å—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è 1000‚ÇΩ</h3>
      <h3>–ï—Å–ª–∏ –≤—ã –ø–æ–π–¥–µ—Ç–µ <a href="https://t.me/+uQl0e8raRkkwZjJi" target="_blank">–ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –≤ –±–µ—Å–µ–¥—Éüíã</a></h3>
      <span>–ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å –ø–æ–∑–≤–∞—Ç—å –∫–æ–≥–æ-—Ç–æ –∏–∑ —Å–≤–æ–∏—Ö –¥—Ä—É–∑–µ–π <a href="https://telegram.me/maloy_plakech" target="_blank">–Ω–∞–ø–∏—à–∏ –º–Ω–µ –≤ –ª–∏—á–∫—É</a></span>
    </div>
    <div class="grid justify-content-center m-0 p-0">
      <form class="col-6 align-items-center w-fit" id="myForm" action="https://formsubmit.co/mrpostik@gmail.com"  method="POST">
        <p>–ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É –ø–∂ —á—Ç–æ–±—ã —è –º–æ–≥ –ø–æ–Ω—è—Ç—å, —á–æ —Ç—ã —Ö–æ—á–µ—à—å –æ—Ç –ø—Ä–∞–∑–¥–Ω–∏–∫–∞</p>
        <div class="field grid">
          <label for="firstname3" class="col-fixed" style="width:100px">–ò–º—è</label>
          <div class="col">
            <input name="name" id="firstname3" type="text"
                   class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary">
          </div>
        </div>
        <div class="field grid">
          <label for="lastname3" class="col-fixed" style="width:100px">–§–∞–º–∏–ª–∏—è</label>
          <div class="col">
            <input name="surname" id="lastname3" type="text" placeholder="–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ"
                   class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary">
          </div>
        </div>
        <div class="formgroup-inline">
          <div class="field-checkbox">
            <input name="drink" type="checkbox" id="drink" @click="showImage">
            <label for="drink" @click="showImage">–Ø –Ω–µ –±—É–¥—É –ø–∏—Ç—å</label>
          </div>
          <div class="field-checkbox">
            <input name="night" type="checkbox" id="night"></input>
            <label for="night">–Ø –Ω–µ –±—É–¥—É –Ω–æ—á–µ–≤–∞—Ç—å</label>
          </div>
          <div class="field-checkbox">
            <input name="car" type="checkbox" id="car"></input>
            <label for="car">–Ø –ø–æ–µ–¥—É –Ω–∞ –º–∞—à–∏–Ω–µ</label>
          </div>
        </div>
        <p>–ù–∞–ø–∏—à–∏ —Ç—É—Ç —Å–≤–æ–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ –∞–ª–∫–æ–≥–æ–ª—é –∏–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ –Ω—å—é–∞–Ω—Å—ã</p>
        <div class="card flex justify-center">
          <Textarea name="comment" placeholder="–ù–∞–ø–∏—à–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º—ã—Å–ª–∏ –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è" rows="5" cols="30"/>
        </div>
        <button type="submit"
                class="mt-2 bg-primary border-primary-500 px-3 py-2 text-base border-1 border-solid border-round cursor-pointer transition-all transition-duration-200 hover:bg-primary-600 hover:border-primary-600 active:bg-primary-700 active:border-primary-700">
          –û—Ç–ø—Ä–∞–≤–∏—Ç—å!
        </button>
      </form>
    </div>
  </div>
</template>

<style scoped>
.infinite-bounce {
  animation-iteration-count: infinite;
  animation-duration: 2s; /* —Å–∫–æ—Ä–æ—Å—Ç—å –ø—Ä—ã–∂–∫–æ–≤ */
}

body {
  text-align: center;
}

.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  padding: 20px;
  text-align: center;
}
.friend-card img {
  transform: translateZ(0);
  will-change: transform;
}
img {
  display: block;
  width: 100%;
  height: auto;
  margin: auto;
}
@media (min-width: 1200px) {
  img {
    max-width: 600px; /* –ù–∞–ø—Ä–∏–º–µ—Ä, –º–∞–∫—Å–∏–º—É–º 600px –Ω–∞ –æ—á–µ–Ω—å —à–∏—Ä–æ–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
  }
}
</style>
